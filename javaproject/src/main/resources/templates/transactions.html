<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Transactions</title>
</head>
<body>
	<h1>User Transactions</h1>
		<table>
	        <thead>
	            <tr>
	                <th>Account</th>
	                <th>Category</th>
	                <th>Amount</th>
	                <th>Date</th>
	                <!-- Add more table headers if needed -->
	            </tr>
	        </thead>
	        <tbody>
	            <!-- Iterate over accounts data and display each account -->
	            <tr th:each="transaction : ${transactions}">
	                <td th:text="${transaction.account.accountName}">Account</td>
	                <td th:text="${transaction.category.categoryName}">Category</td>
	                <td th:text="${transaction.amount}">Amount</td>
	                <td th:text="${transaction.date}">Date</td>
	                <!-- Add more table cells for additional account properties -->
	            </tr>
	        </tbody>
    	</table>
    <h2>Add New Transaction</h2>
    <form action="transactions"  method="post">
    	<div>
            <label for="category">Category:</label>
            <select id="category" name="category" required>
                <option value="">Choose...</option>
                <!-- Iterate over categories and populate dropdown options -->
                <option th:each="cat : ${categories}" th:value="${cat.categoryID}" th:text="${cat.categoryName}"></option>
            </select>
        </div>
        <div>
            <label for="amount">Amount:</label>
            <input type="number" id="amount" name="amount" step="0.01" th:value="*{amount}" required>
        </div>
        <div>
        	<label for="account">Account:</label>
    		<select id="account" name="account" required>
		        <option value="">Select Account</option>
		        <option th:each="account : ${accounts}" 
		                th:value="${account.accountID}" 
		                th:text="${account.accountName}">
		        </option>
    		</select>
        
        </div>
        <div>
            <label for="date">Date:</label>
            <input type="date" id="date" name="date" required>
        </div>
        
        <div>
            <label for="type">Type:</label>
            <select id="type" name="type" th:value="*{type}" required>
                <option value="">Choose...</option>
                <option value="Income">Income</option>
                <option value="Expense">Expense</option>
            </select>
        </div>
        <div>
            <label for="description">Description:</label>
            <input type="text" id="description" name="description" th:value="*{description}">
        </div>
        <div>
            <button type="submit">Submit</button>
        </div>
    </form>
</body>
</html>